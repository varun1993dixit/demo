<!DOCTYPE =HTML>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<!-- <script src="assets/js/passwordPlugin.js"></script> -->
	</head>
	<body>
		<form id="dialog" action="/action_page.php" >
			<input type="password" class="pass" size="1"  maxlength="2">
			<input type="password" class="pass" size="1"  maxlength="2">
			<input type="password" class="pass" size="1"  maxlength="2">
			<input type="password" class="pass" size="1"  maxlength="2">
		</form>
	</body>
	<script>
		//	$("input").prop('disabled', true);
		// $( function() {
		// $(document).on('input', '.pass', function() {
		//
		// var allowedDigits = 1;
		// var length = $(this).val().length;
		// var max = parseInt($(this).attr("max"));
		// console.log($(this).val())
		// if($(this).val() == ""){
		// alert();
		// $(this).val("");
		// }
		//
		// if ($(this).val().indexOf('.') != -1) {
		// allowedDigits = 1;
		// }
		//
		// if(length > allowedDigits){
		// $(this).val($(this).val().substring(0,1));
		// }
		//
		// if($(this).val() > max && max > 0){
		// $(this).val($(this).val().substring(0, 1));
		// }
		// });
		// });
		//$(".pass")[0].focus();
		//var n = 1;
		$(document).ready(function() {
			
			
			console.log($("#dialog input").attr("maxlength"))
			var inputLength = $(".pass").length;
			$(".pass")[0].focus();
			$(".pass").eq(0).nextAll().prop('disabled', true);
			$(document).on('keydown input', '.pass', function(e) {
				if(e.which==32){
					
					return false;
				}
				if(e.which==8){
					console.log($(this).index()-1);
					//$(".pass")[$(this).index()-1].focus();
					//
					
					$(this).prev().prop('disabled', false).nextAll().prop('disabled', true);
					
					$(this).prev().focus();
					$(this).prev().val('')
					//$(this).prop('disabled', true);
					//$(this).prop('disabled', true);
					
					//$(this).prop('disabled', true);
					
				}
				
				if ($(this).val().length >= $("#dialog input").attr("maxlength") && e.which!=8) {
					
					
					if (inputLength - 1 > $(this).index()) {
						//alert()
						$(this).next().prop('disabled', false);
						$(this).prop('disabled', true);
						console.log($(this).index());
						$(this).next().focus();
					//	$(".pass")[$(this).index()+1].focus();
						
					} else {
						$(this).prop('disabled', true);
						$(".pass")[inputLength - 1].blur();
						$("form").submit();

					}
				}


				
			})
		})
	</script>
</html>